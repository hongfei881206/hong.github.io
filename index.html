<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>一键跳转页面</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            background-color: #f8f9fa;
            text-align: center;
            padding: 30px 20px;
            font-family: "Microsoft YaHei", sans-serif;
        }
        /* 密码验证区域样式 */
        .auth-panel {
            margin: 40px auto 20px;
            max-width: 450px;
            display: flex;
            gap: 12px;
            justify-content: center;
            align-items: center;
        }
        .auth-panel input {
            padding: 10px 15px;
            border: 1px solid #ced4da;
            border-radius: 6px;
            width: 250px;
            font-size: 16px;
        }
        .auth-panel button {
            padding: 10px 20px;
            background-color: #28a745;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
        }
        .auth-panel button:hover {
            background-color: #218838;
        }
        /* 自定义设置面板样式 */
        .setting-panel {
            max-width: 650px;
            margin: 25px auto;
            padding: 25px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 3px 15px rgba(0,0,0,0.1);
            display: none; /* 默认隐藏 */
            gap: 20px;
            flex-direction: column;
        }
        .setting-panel input {
            padding: 12px 15px;
            border: 1px solid #ced4da;
            border-radius: 6px;
            font-size: 16px;
        }
        .setting-btn-group {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 10px;
        }
        .setting-btn-group button {
            padding: 12px 25px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
        }
        .confirm-btn {
            background-color: #007bff;
            color: white;
        }
        .confirm-btn:hover {
            background-color: #0069d9;
        }
        .reset-btn {
            background-color: #dc3545;
            color: white;
        }
        .reset-btn:hover {
            background-color: #c82333;
        }
        /* 跳转图片样式 */
        .jump-img {
            max-width: 75%;
            height: auto;
            margin: 40px auto;
            cursor: pointer;
            border-radius: 10px;
            box-shadow: 0 3px 15px rgba(0,0,0,0.15);
            transition: transform 0.3s;
        }
        .jump-img:hover {
            transform: scale(1.02);
        }
    </style>
</head>
<body>
    <!-- 密码验证区域 -->
    <div class="auth-panel">
        <input type="password" id="adminPwd" placeholder="输入管理员密码">
        <button onclick="verifyAdmin()">验证身份</button>
    </div>

    <!-- 自定义设置面板（默认隐藏） -->
    <div class="setting-panel" id="settingPanel">
        <input type="text" id="imgUrl" placeholder="输入图片链接（http/https开头）">
        <input type="text" id="jumpUrl" placeholder="输入跳转网址（http/https开头）">
        <div class="setting-btn-group">
            <button class="confirm-btn" onclick="saveSetting()">保存设置</button>
            <button class="reset-btn" onclick="resetSetting()">恢复默认</button>
        </div>
    </div>

    <!-- 跳转图片区域 -->
    <a id="jumpLink" target="_blank">
        <img src="https://picsum.photos/800/450" 
             alt="点击立即跳转" 
             class="jump-img" 
             id="targetImg">
    </a>

    <script>
        // 管理员密码（已修改为更安全的组合）
        const ADMIN_PASSWORD = "HongFei@2024";
        // 默认配置（已更新默认图片和跳转网址）
        const DEFAULT_CONFIG = {
            imgUrl: "https://picsum.photos/800/450", // 随机风景图链接
            jumpUrl: "https://www.baidu.com" // 默认跳转百度
        };

        // 页面加载时读取本地存储的配置
        window.onload = function() {
            loadSetting();
        };

        // 验证管理员身份
        function verifyAdmin() {
            const inputPwd = document.getElementById("adminPwd").value;
            const settingPanel = document.getElementById("settingPanel");
            if (inputPwd === ADMIN_PASSWORD) {
                settingPanel.style.display = "flex";
                alert("验证成功！可进行自定义配置");
            } else {
                alert("密码错误，仅管理员可修改配置");
            }
        }

        // 读取本地存储的配置并应用
        function loadSetting() {
            const savedConfig = localStorage.getItem("jumpConfig");
            const config = savedConfig ? JSON.parse(savedConfig) : DEFAULT_CONFIG;
            document.getElementById("targetImg").src = config.imgUrl;
            document.getElementById("jumpLink").href = config.jumpUrl;
            // 填充到输入框（方便管理员修改）
            document.getElementById("imgUrl").value = config.imgUrl;
            document.getElementById("jumpUrl").value = config.jumpUrl;
        }

        // 保存自定义配置
        function saveSetting() {
            const imgUrl = document.getElementById("imgUrl").value.trim();
            const jumpUrl = document.getElementById("jumpUrl").value.trim();
            if (!imgUrl || !jumpUrl) {
                alert("图片链接和跳转网址不能为空，请补充完整");
                return;
            }
            // 验证网址格式（简单校验）
            const urlReg = /^https?:\/\/.+/;
            if (!urlReg.test(jumpUrl) || (!urlReg.test(imgUrl) && !imgUrl.startsWith("data:image/"))) {
                alert("请输入有效的http/https链接，或base64格式图片");
                return;
            }
            // 保存到本地存储
            const config = { imgUrl, jumpUrl };
            localStorage.setItem("jumpConfig", JSON.stringify(config));
            // 立即应用配置
            document.getElementById("targetImg").src = imgUrl;
            document.getElementById("jumpLink").href = jumpUrl;
            alert("配置保存成功！页面已更新");
        }

        // 恢复默认配置
        function resetSetting() {
            if (confirm("确定要恢复默认配置吗？当前自定义设置将被清除")) {
                localStorage.removeItem("jumpConfig");
                loadSetting();
                alert("已成功恢复默认配置");
            }
        }
    </script>
</body>
</html>